# Zoyo 认证系统 - 项目总览

## 项目简介

Zoyo 是一个基于前后端分离架构的企业级认证系统，采用现代化技术栈构建。

## 项目结构

```
D:\code\
├── zoyo_admin/          # 后端项目（Spring Boot）
│   ├── src/
│   │   └── main/
│   │       ├── java/    # Java 源代码
│   │       └── resources/  # 配置文件
│   ├── pom.xml          # Maven 配置
│   └── README.md        # 后端文档
│
└── zoyo_front/          # 前端项目（Vue 3）
    ├── src/
    │   ├── api/         # API 接口
    │   ├── views/       # 页面组件
    │   ├── router/      # 路由配置
    │   ├── stores/      # 状态管理
    │   └── types/       # 类型定义
    ├── package.json     # npm 配置
    └── README.md        # 前端文档
```

## 技术栈对比

### 后端（zoyo_admin）

| 技术 | 版本 | 说明 |
|------|------|------|
| Java | 21 | 编程语言 |
| Spring Boot | 3.2.0 | 应用框架 |
| Spring Security | 6.x | 安全框架 |
| Spring Data JPA | 3.x | ORM 框架 |
| MySQL | 8.0+ | 数据库 |
| JWT | 0.12.3 | Token 认证 |
| Lombok | - | 代码简化 |
| Maven | 3.6+ | 构建工具 |

### 前端（zoyo_front）

| 技术 | 版本 | 说明 |
|------|------|------|
| Vue | 3.4 | 前端框架 |
| TypeScript | 5.3 | 编程语言 |
| Vite | 5.0 | 构建工具 |
| Element Plus | 2.5 | UI 组件库 |
| Pinia | 2.1 | 状态管理 |
| Vue Router | 4.2 | 路由管理 |
| Axios | 1.6 | HTTP 客户端 |

## 功能特性

### ✅ 已实现功能

#### 后端功能
- ✅ 用户注册（带参数校验）
- ✅ 用户登录（支持用户名/邮箱登录）
- ✅ JWT Token 认证
- ✅ 用户信息管理
- ✅ 密码修改
- ✅ 用户禁用/删除
- ✅ 全局异常处理
- ✅ 统一响应格式
- ✅ 跨域支持（CORS）
- ✅ 登录信息记录（时间、IP）

#### 前端功能
- ✅ 用户登录界面
- ✅ 用户注册界面
- ✅ 首页展示
- ✅ 个人中心
- ✅ 信息编辑
- ✅ 密码修改
- ✅ 路由守卫
- ✅ Token 持久化
- ✅ HTTP 拦截器
- ✅ 响应式布局

## 快速开始

### 1. 启动后端（zoyo_admin）

```bash
# 进入后端目录
cd D:\code\zoyo_admin

# 创建数据库
mysql -u root -p
CREATE DATABASE zoyo CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# 修改配置文件
# 编辑 src/main/resources/application.yml
# 修改数据库用户名和密码

# 启动项目
mvn spring-boot:run
```

后端服务地址：http://localhost:8080/api

### 2. 启动前端（zoyo_front）

```bash
# 进入前端目录
cd D:\code\zoyo_front

# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

前端访问地址：http://localhost:3000

## 接口文档

### 认证接口

| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 用户注册 | POST | /api/auth/register | 注册新用户 |
| 用户登录 | POST | /api/auth/login | 用户登录获取 Token |
| 用户登出 | POST | /api/auth/logout | 退出登录 |
| 健康检查 | GET | /api/auth/health | 服务健康检查 |

### 用户接口（需要 Token）

| 接口 | 方法 | 路径 | 说明 |
|------|------|------|------|
| 获取当前用户 | GET | /api/user/current | 获取当前登录用户信息 |
| 获取用户信息 | GET | /api/user/{id} | 根据 ID 获取用户信息 |
| 更新用户信息 | PUT | /api/user/update | 更新用户信息 |
| 修改密码 | POST | /api/user/password | 修改密码 |
| 删除用户 | DELETE | /api/user/{id} | 删除用户 |

## 架构说明

### 后端架构（三层架构）

```
Controller 层（表现层）
    ↓
Service 层（业务层）
    - 接口定义（service/）
    - 实现类（service/impl/）
    ↓
Repository 层（持久层）
    ↓
Database（MySQL）
```

**特点**：
- 严格的三层架构
- 接口与实现分离
- 面向接口编程
- 遵循 SOLID 原则

### 前端架构

```
Views（页面组件）
    ↓
API（接口调用）
    ↓
Request（HTTP 封装）
    ↓
Backend（后端服务）
```

**特点**：
- 组件化开发
- 状态管理（Pinia）
- 路由守卫
- HTTP 拦截器

## 数据流转

### 登录流程

```
1. 用户输入用户名密码
   ↓
2. 前端调用 /api/auth/login
   ↓
3. 后端验证用户名密码
   ↓
4. 生成 JWT Token
   ↓
5. 返回 Token 和用户信息
   ↓
6. 前端保存 Token 到 localStorage
   ↓
7. 跳转到首页
```

### 认证流程

```
1. 前端发起请求
   ↓
2. 请求拦截器添加 Token 到 Header
   ↓
3. 后端 JWT 过滤器验证 Token
   ↓
4. 验证通过，执行业务逻辑
   ↓
5. 返回响应数据
   ↓
6. 响应拦截器处理数据
   ↓
7. 前端展示数据
```

## 开发环境

### 后端开发环境

- **IDE**: IntelliJ IDEA / Eclipse
- **JDK**: Java 21
- **Maven**: 3.6+
- **MySQL**: 8.0+

### 前端开发环境

- **IDE**: VS Code / WebStorm
- **Node.js**: 18+
- **npm**: 9+

## 生产部署

### 后端部署

```bash
# 打包
mvn clean package

# 运行
java -jar target/auth-system-1.0.0.jar --spring.profiles.active=prod
```

### 前端部署

```bash
# 构建
npm run build

# 部署 dist 目录到 Nginx
```

### Nginx 配置示例

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # 前端静态文件
    location / {
        root /var/www/zoyo_front/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # 后端 API 代理
    location /api {
        proxy_pass http://localhost:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

## 项目文档

### 后端文档
- [README.md](zoyo_admin/README.md) - 项目说明
- [ARCHITECTURE.md](zoyo_admin/ARCHITECTURE.md) - 架构详解
- [开发规范.md](zoyo_admin/开发规范.md) - 编码规范
- [快速启动指南.md](zoyo_admin/快速启动指南.md) - 启动教程

### 前端文档
- [README.md](zoyo_front/README.md) - 项目说明

## 常见问题

### 1. 跨域问题

**问题**：前端请求后端接口出现跨域错误

**解决**：
- 开发环境：前端使用 Vite 代理（已配置）
- 生产环境：后端已配置 CORS（CorsConfig.java）

### 2. Token 失效

**问题**：Token 过期或无效

**解决**：
- Token 默认有效期 24 小时
- 失效后自动跳转登录页
- 可在 application.yml 中修改有效期

### 3. 数据库连接失败

**问题**：无法连接数据库

**解决**：
- 检查 MySQL 服务是否启动
- 检查数据库名称、用户名、密码
- 确认数据库已创建

### 4. 端口被占用

**问题**：8080 或 3000 端口被占用

**解决**：
- 后端：修改 application.yml 中的 server.port
- 前端：修改 vite.config.ts 中的 server.port

## 项目统计

### 后端统计
- **Java 文件**: 23 个（包含 CorsConfig）
- **代码行数**: 约 2600+ 行
- **API 接口**: 9 个
- **数据库表**: 1 个

### 前端统计
- **Vue 组件**: 4 个页面组件
- **API 接口**: 9 个
- **路由**: 5 个
- **状态管理**: 1 个 Store

## 后续扩展建议

### 功能扩展
- [ ] 角色管理（RBAC）
- [ ] 权限管理
- [ ] 用户头像上传
- [ ] 邮箱验证
- [ ] 手机验证码
- [ ] 第三方登录（OAuth2）
- [ ] Token 刷新机制
- [ ] 操作日志
- [ ] 数据字典

### 技术优化
- [ ] Redis 缓存
- [ ] 接口限流
- [ ] API 文档（Swagger）
- [ ] 单元测试
- [ ] 集成测试
- [ ] Docker 容器化
- [ ] CI/CD 流水线
- [ ] 性能监控

## 版本历史

### v1.0.0 (2025-10-27)
- ✅ 完成前后端分离架构
- ✅ 实现用户认证功能
- ✅ 实现用户管理功能
- ✅ 完成前端 UI 界面
- ✅ 配置跨域支持
- ✅ 编写项目文档

## 许可证

MIT License

## 联系方式

如有问题或建议，欢迎反馈。

---

**项目完成时间**: 2025-10-27  
**最后更新时间**: 2025-10-27  
**项目状态**: ✅ 开发完成，可正常运行
